configurations:
    databases:
        db1: jdbc:mysql://mysql.docker.local:3306/peppol?user=oxalis&password=grAm0f0n_1982-X_&allowMultiQueries=true
    queues:
        mq1:
            host: rabbitmq
            port: 5672
            username: guest
            password: guest
            virtual host: /
    validation result folder: etc/resources/validation-result
tests:
   events-persistence:
        producers:
            - mq producer:
                mq connection: mq1
                destination queue: eventing
                source directory: /etc/resources/events-persistence-test/events-persistence_valid.xml
                endpoint: events-persistence-integration-test
                db connection: db1
                DB preprocess querry: delete from messages where invoice_number='20828'
        subscribers:
            - db subscriber:
                db connection: db1
                timeout: 5000
                query: select count(*) from messages where invoice_number="20828"
                consumers: 4
        consumers:
            - DB test:
                id: 4
                name: Message persisted into DB positive test
                expected value: 1